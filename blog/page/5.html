<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Gitcoins Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Gitcoins Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41298772-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41298772-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-41298772-2",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Gitcoins" href="/opensearch.xml">
<link rel="icon" href="/img/pwa/manifest-icon-512.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#20232a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#20232a">
<link rel="apple-touch-icon" href="/img/pwa/manifest-icon-512.png">
<link rel="mask-icon" href="/img/pwa/manifest-icon-512.png" color="#06bcee">
<meta name="msapplication-TileImage" href="/img/pwa/manifest-icon-512.png">
<meta name="msapplication-TileColor" content="#20232a">
<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://snack.expo.io/embed.js" defer="defer"></script><title data-react-helmet="true">Blog · Gitcoins</title><meta data-react-helmet="true" property="og:title" content="Blog · Gitcoins"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://www.gitcoins.io/blog/page/5"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><meta data-react-helmet="true" property="og:image" content="https://reactnative.dev/img/logo-og.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:image" content="https://reactnative.dev/img/logo-og.png"><meta data-react-helmet="true" name="twitter:site" content="gitcoins@outlook.com"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://www.gitcoins.io/blog/page/5"><link data-react-helmet="true" rel="alternate" href="https://www.gitcoins.io/blog/page/5" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.gitcoins.io/blog/page/5" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cacad23a.css">
<link rel="stylesheet" href="/assets/css/main.811c02d1.css">
<link rel="preload" href="/assets/js/styles.f35f8285.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.63058443.js" as="script">
<link rel="preload" href="/assets/js/main.06a5fcb7.js" as="script">
<link rel="preload" href="/assets/js/1.fd5900f1.js" as="script">
<link rel="preload" href="/assets/js/2.2be848a7.js" as="script">
<link rel="preload" href="/assets/js/3.541120ef.js" as="script">
<link rel="preload" href="/assets/js/01a85c17.2bca03b2.js" as="script">
<link rel="preload" href="/assets/js/18b93cb3.6f5e5950.js" as="script">
<link rel="preload" href="/assets/js/645.0c374cd5.js" as="script">
<link rel="preload" href="/assets/js/1f391b9e.a6dc992c.js" as="script">
<link rel="preload" href="/assets/js/5fc994c2.f7f90878.js" as="script">
<link rel="preload" href="/assets/js/6842cdf5.9474afe8.js" as="script">
<link rel="preload" href="/assets/js/6875c492.7feb9cb5.js" as="script">
<link rel="preload" href="/assets/js/a6aa9e1f.e3052014.js" as="script">
<link rel="preload" href="/assets/js/c4f5d8e4.21c662f3.js" as="script">
<link rel="preload" href="/assets/js/ccc49370.5a9d002e.js" as="script">
<link rel="preload" href="/assets/js/d354f77b.4e2d92da.js" as="script">
<link rel="preload" href="/assets/js/af4eba23.be9ef5ab.js" as="script">
<link rel="preload" href="/assets/js/4d5605c5.299638e2.js" as="script">
<link rel="preload" href="/assets/js/6b9475f3.d216a6e8.js" as="script">
<link rel="preload" href="/assets/js/34190e7c.6f57421d.js" as="script">
<link rel="preload" href="/assets/js/5bc2ca03.3e1d3611.js" as="script">
<link rel="preload" href="/assets/js/3c5dc301.5c2fe611.js" as="script">
<link rel="preload" href="/assets/js/a2e4a5c5.088dc21e.js" as="script">
<link rel="preload" href="/assets/js/7dc5c003.a0ea571d.js" as="script">
<link rel="preload" href="/assets/js/255d8fe2.14a9b1f9.js" as="script">
<link rel="preload" href="/assets/js/6212ddc1.f730090f.js" as="script">
<link rel="preload" href="/assets/js/11ce4159.22430132.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_3wvD">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/header_logo.svg" alt="React Native" class="themedImage_Ir0T themedImage--light_2_E0 navbar__logo"><img src="/img/header_logo.svg" alt="React Native" class="themedImage_Ir0T themedImage--dark_2JiM navbar__logo"><strong class="navbar__title">Gitcoins</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/getting-started">0.64</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/build-docusarurs-website">Next</a></li><li><a class="dropdown__link" href="/docs/getting-started">0.64</a></li><li><a class="dropdown__link" href="/docs/0.63/getting-started">0.63</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/components-and-apis">Components</a><a class="navbar__item navbar__link" href="/docs/accessibilityinfo">API</a><a class="navbar__item navbar__link" href="/help">Community</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://github.com/vulnsystem/www.gitcoins.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2XYw"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_2wFP">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_2wFP">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/header_logo.svg" alt="React Native" class="themedImage_Ir0T themedImage--light_2_E0 navbar__logo"><img src="/img/header_logo.svg" alt="React Native" class="themedImage_Ir0T themedImage--dark_2JiM navbar__logo"><strong class="navbar__title">Gitcoins</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/components-and-apis">Components</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/accessibilityinfo">API</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Community</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/build-docusarurs-website">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">0.64</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.63/getting-started">0.63</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/vulnsystem/www.gitcoins.io" target="_blank" rel="noopener noreferrer" class="menu__link navbar-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_3-2F"><h3 class="sidebarItemTitle_10M-">All Blog Posts</h3><ul class="sidebarItemList_3L1d"><h4 class="sidebarItemTitle_10M-">2021</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2021/05/18/risk-of-virtual-currency-transaction">risk of virtual currency transaction</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2021/04/08/GAAD-March-Accessibility-Issue-Update">The GAAD Pledge - March Accessibility Issues Update</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2021/03/12/version-0.64">Announcing React Native 0.64 with Hermes on iOS</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2021/03/08/GAAD-React-Native-Accessibility">The GAAD Pledge - Improving React Native Accessibility</a></li><h4 class="sidebarItemTitle_10M-">2020</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2020/07/23/docs-update">React Native Documentation Update</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2020/07/17/react-native-principles">React Native Team Principles</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2020/07/06/version-0.63">Announcing React Native 0.63 with LogBox</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2020/03/26/version-0.62">Announcing React Native 0.62 with Flipper</a></li><h4 class="sidebarItemTitle_10M-">2019</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/11/18/react-native-doctor">Meet Doctor, a new React Native command</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/09/18/version-0.61">Announcing React Native 0.61 with Fast Refresh</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/07/17/hermes">Meet Hermes, a new JavaScript Engine optimized for React Native</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/07/03/version-60">Announcing React Native 0.60</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/06/12/react-native-open-source-update">React Native Open Source Update June 2019</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/05/01/react-native-at-f8-and-podcast">React Native at F8 and Open Source Podcast</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/03/12/releasing-react-native-059">Releasing React Native 0.59</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/03/01/react-native-open-source-update">React Native Open Source Update March 2019</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/01/10/blockchain-service-requirement">blockchain service requirement in China</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2019/01/07/state-of-react-native-community">The State of the React Native Community in 2018</a></li><h4 class="sidebarItemTitle_10M-">2018</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/11/01/oss-roadmap">Open Source Roadmap</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/08/27/wkwebview">Introducing new iOS WebViews</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/08/24/preventing-illegal-fund-blockchain">preventing illegal fund with blockchain</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/08/13/react-native-accessibility-updates">Accessibility API Updates</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/07/04/releasing-react-native-056">Releasing 0.56</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/06/14/state-of-react-native-2018">State of React Native 2018</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/05/07/using-typescript-with-react-native">Using TypeScript with React Native</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/04/09/build-com-app">Built with React Native - The Build.com app</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/03/22/building-input-accessory-view-for-react-native">Building &lt;InputAccessoryView&gt; For React Native</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/03/05/AWS-app-sync">Using AWS with React Native</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/01/26/risk-of-foreign-ico-activities">risk of foreign ico activities</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/01/18/implementing-twitters-app-loading-animation-in-react-native">Implementing Twitter’s App Loading Animation in React Native</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/01/12/risk-of-disguised-ico-activities">risk of disguised ico activities</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2018/01/09/react-native-monthly-6">React Native Monthly #6</a></li><h4 class="sidebarItemTitle_10M-">2017</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/11/06/react-native-monthly-5">React Native Monthly #5</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/09/21/react-native-monthly-4">React Native Monthly #4</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/09/04/preventing-token-risk">preventing the financing risk of token issuance</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/08/30/react-native-monthly-3">React Native Monthly #3</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/08/07/react-native-performance-in-marketplace">React Native Performance in Marketplace</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/07/28/react-native-monthly-2">React Native Monthly #2</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/06/21/react-native-monthly-1">React Native Monthly #1</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/03/13/better-list-views">Better List Views in React Native</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/03/13/idx-the-existential-function">idx: The Existential Function</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/03/13/introducing-create-react-native-app">Introducing Create React Native App</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/02/14/using-native-driver-for-animated">Using Native Driver for Animated</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2017/01/07/monthly-release-cadence">A Monthly Release Cadence: Releasing December and January RC</a></li><h4 class="sidebarItemTitle_10M-">2016</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/12/05/easier-upgrades">Easier Upgrades Thanks to Git</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/11/08/introducing-button-yarn-and-a-public-roadmap">Introducing Button, Faster Installs with Yarn, and a Public Roadmap</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/10/25/0.36-headless-js-the-keyboard-api-and-more">0.36: Headless JS, the Keyboard API, &amp; more</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/09/08/exponent-talks-unraveling-navigation">Expo Talks: Adam on Unraveling Navigation</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/08/19/right-to-left-support-for-react-native-apps">Right-to-Left Layout Support For React Native Apps</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/08/12/react-native-meetup-san-francisco">San Francisco Meetup Recap</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/07/06/toward-better-documentation">Toward Better Documentation</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/04/13/react-native-a-year-in-review">React Native: A year in review</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/03/28/dive-into-react-native-performance">Dive into React Native Performance</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2016/03/24/introducing-hot-reloading">Introducing Hot Reloading</a></li><h4 class="sidebarItemTitle_10M-">2015</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2015/11/23/making-react-native-apps-accessible">Making React Native apps accessible</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2015/09/14/react-native-for-android">React Native for Android: How we built the first cross-platform React Native app</a></li><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2015/03/26/react-native-bringing-modern-web-techniques-to-mobile">React Native: Bringing modern web techniques to mobile</a></li><h4 class="sidebarItemTitle_10M-">2014</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2014/06/26/strengthening-preventing-bitcoin-risk">Strengthening the prevention of bitcoin risk</a></li><h4 class="sidebarItemTitle_10M-">2013</h4><li class="sidebarItem_3stU"><a class="sidebarItemLink_3hZO" href="/blog/2013/12/03/notice-preventing-bitcoin-risk">Notice on preventing bitcoin risk</a></li></ul></div></div><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2017/03/13/idx-the-existential-function">idx: The Existential Function</a></h2><div class="margin-vert--md"><time datetime="2017-03-13T00:00:00.000Z" class="blogPostDate_1D58">March 13, 2017 · 2 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/yungsters" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://pbs.twimg.com/profile_images/1592444107/image.jpg" alt="Timothy Yung"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/yungsters" target="_blank" rel="noopener noreferrer">Timothy Yung</a></h4><small class="avatar__subtitle">Engineering Manager at Facebook</small></div></div></header><div class="markdown"><p>At Facebook, we often need to access deeply nested values in data structures fetched with GraphQL. On the way to accessing these deeply nested values, it is common for one or more intermediate fields to be nullable. These intermediate fields may be null for a variety of reasons, from failed privacy checks to the mere fact that null happens to be the most flexible way to represent non-fatal errors.</p><p>Unfortunately, accessing these deeply nested values is currently tedious and verbose.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user </span><span class="token operator" style="color:#fc929e">&amp;&amp;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends </span><span class="token operator" style="color:#fc929e">&amp;&amp;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">&amp;&amp;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>There is <a href="https://github.com/claudepache/es-optional-chaining" target="_blank" rel="noopener noreferrer">an ECMAScript proposal to introduce the existential operator</a> which will make this much more convenient. But until a time when that proposal is finalized, we want a solution that improves our quality of life, maintains existing language semantics, and encourages type safety with Flow.</p><p>We came up with an existential <em>function</em> we call <code>idx</code>.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">idx</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">_</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=&gt;</span><span class="token plain"> _</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>The invocation in this code snippet behaves similarly to the boolean expression in the code snippet above, except with significantly less repetition. The <code>idx</code> function takes exactly two arguments:</p><ul><li>Any value, typically an object or array into which you want to access a nested value.</li><li>A function that receives the first argument and accesses a nested value on it.</li></ul><p>In theory, the <code>idx</code> function will try-catch errors that are the result of accessing properties on null or undefined. If such an error is caught, it will return either null or undefined. (And you can see how this might be implemented in <a href="https://github.com/facebookincubator/idx/blob/master/packages/idx/src/idx.js" target="_blank" rel="noopener noreferrer">idx.js</a>.)</p><p>In practice, try-catching every nested property access is slow, and differentiating between specific kinds of TypeErrors is fragile. To deal with these shortcomings, we created a Babel plugin that transforms the above <code>idx</code> invocation into the following expression:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user </span><span class="token operator" style="color:#fc929e">==</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">null</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends </span><span class="token operator" style="color:#fc929e">==</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">null</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">==</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">null</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">user</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">friends</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Finally, we added a custom Flow type declaration for <code>idx</code> that allows the traversal in the second argument to be properly type-checked while permitting nested access on nullable properties.</p><p>The function, Babel plugin, and Flow declaration are now <a href="https://github.com/facebookincubator/idx" target="_blank" rel="noopener noreferrer">available on GitHub</a>. They are used by installing the <strong>idx</strong> and <strong>babel-plugin-idx</strong> npm packages, and adding “idx” to the list of plugins in your <code>.babelrc</code> file.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/engineering">engineering</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2017/03/13/introducing-create-react-native-app">Introducing Create React Native App</a></h2><div class="margin-vert--md"><time datetime="2017-03-13T00:00:00.000Z" class="blogPostDate_1D58">March 13, 2017 · 2 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/dikaiosune" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars2.githubusercontent.com/u/6812281" alt="Adam Perry"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/dikaiosune" target="_blank" rel="noopener noreferrer">Adam Perry</a></h4><small class="avatar__subtitle">Software Engineer at Expo</small></div></div></header><div class="markdown"><p>Today we’re announcing <a href="https://github.com/react-community/create-react-native-app" target="_blank" rel="noopener noreferrer">Create React Native App</a>: a new tool that makes it significantly easier to get started with a React Native project! It’s heavily inspired by the design of <a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="noopener noreferrer">Create React App</a> and is the product of a collaboration between <a href="https://code.facebook.com" target="_blank" rel="noopener noreferrer">Facebook</a> and <a href="https://expo.io" target="_blank" rel="noopener noreferrer">Expo</a> (formerly Exponent).</p><p>Many developers struggle with installing and configuring React Native’s current native build dependencies, especially for Android. With Create React Native App, there’s no need to use Xcode or Android Studio, and you can develop for your iOS device using Linux or Windows. This is accomplished using the Expo app, which loads and runs CRNA projects written in pure JavaScript without compiling any native code.</p><p>Try creating a new project (replace with suitable yarn commands if you have it installed):</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q sh"><div tabindex="0" class="prism-code language-sh codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ npm i -g create-react-native-app</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ create-react-native-app my-project</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ cd my-project</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ npm start</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>This will start the React Native packager and print a QR code. Open it in the <a href="https://expo.io" target="_blank" rel="noopener noreferrer">Expo app</a> to load your JavaScript. Calls to <code>console.log</code> are forwarded to your terminal. You can make use of any standard React Native APIs as well as the <a href="https://docs.expo.io/versions/latest/sdk/index.html" target="_blank" rel="noopener noreferrer">Expo SDK</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="what-about-native-code"></a>What about native code?<a class="hash-link" href="#what-about-native-code" title="Direct link to heading">#</a></h2><p>Many React Native projects have Java or Objective-C/Swift dependencies that need to be compiled. The Expo app does include APIs for camera, video, contacts, and more, and bundles popular libraries like <a href="https://docs.expo.io/versions/v14.0.0/sdk/map-view.html" target="_blank" rel="noopener noreferrer">Airbnb’s react-native-maps</a>, or <a href="https://docs.expo.io/versions/latest/sdk/facebook.html" target="_blank" rel="noopener noreferrer">Facebook authentication</a>. However if you need a native code dependency that Expo doesn’t bundle then you’ll probably need to have your own build configuration for it. Just like Create React App, “ejecting” is supported by CRNA.</p><p>You can run <code>npm run eject</code> to get a project very similar to what <code>react-native init</code> would generate. At that point you’ll need Xcode and/or Android Studio just as you would if you started with <code>react-native init</code> , adding libraries with <code>react-native link</code> will work, and you’ll have full control over the native code compilation process.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="questions-feedback"></a>Questions? Feedback?<a class="hash-link" href="#questions-feedback" title="Direct link to heading">#</a></h2><p>Create React Native App is now stable enough for general use, which means we’re very eager to hear about your experience using it! You can find me <a href="https://twitter.com/dika10sune" target="_blank" rel="noopener noreferrer">on Twitter</a> or open an issue on <a href="https://github.com/react-community/create-react-native-app" target="_blank" rel="noopener noreferrer">the GitHub repository</a>. Pull requests are very welcome!</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/engineering">engineering</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2017/02/14/using-native-driver-for-animated">Using Native Driver for Animated</a></h2><div class="margin-vert--md"><time datetime="2017-02-14T00:00:00.000Z" class="blogPostDate_1D58">February 14, 2017 · 7 min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/janicduplessis" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://secure.gravatar.com/avatar/8d6b6c0f5b228b0a8566a69de448b9dd?s=128" alt="Janic Duplessis"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/janicduplessis" target="_blank" rel="noopener noreferrer">Janic Duplessis</a></h4><small class="avatar__subtitle">Software Engineer at App &amp; Flow</small></div></div></header><div class="markdown"><p>For the past year, we&#x27;ve been working on improving performance of animations that use the Animated library. Animations are very important to create a beautiful user experience but can also be hard to do right. We want to make it easy for developers to create performant animations without having to worry about some of their code causing it to lag.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="what-is-this"></a>What is this?<a class="hash-link" href="#what-is-this" title="Direct link to heading">#</a></h2><p>The Animated API was designed with a very important constraint in mind, it is serializable. This means we can send everything about the animation to native before it has even started and allows native code to perform the animation on the UI thread without having to go through the bridge on every frame. It is very useful because once the animation has started, the JS thread can be blocked and the animation will still run smoothly. In practice this can happen a lot because user code runs on the JS thread and React renders can also lock JS for a long time.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="a-bit-of-history"></a>A bit of history...<a class="hash-link" href="#a-bit-of-history" title="Direct link to heading">#</a></h2><p>This project started about a year ago, when Expo built the li.st app on Android. <a href="https://twitter.com/kzzzf" target="_blank" rel="noopener noreferrer">Krzysztof Magiera</a> was contracted to build the initial implementation on Android. It ended up working well and li.st was the first app to ship with native driven animations using Animated. A few months later, <a href="https://github.com/buba447" target="_blank" rel="noopener noreferrer">Brandon Withrow</a> built the initial implementation on iOS. After that, <a href="https://twitter.com/ryangomba" target="_blank" rel="noopener noreferrer">Ryan Gomba</a> and myself worked on adding missing features like support for <code>Animated.event</code> as well as squash bugs we found when using it in production apps. This was truly a community effort and I would like to thanks everyone that was involved as well as Expo for sponsoring a large part of the development. It is now used by <code>Touchable</code> components in React Native as well as for navigation animations in the newly released <a href="https://github.com/react-community/react-navigation" target="_blank" rel="noopener noreferrer">React Navigation</a> library.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="how-does-it-work"></a>How does it work?<a class="hash-link" href="#how-does-it-work" title="Direct link to heading">#</a></h2><p>First, let&#x27;s check out how animations currently work using Animated with the JS driver. When using Animated, you declare a graph of nodes that represent the animations that you want to perform, and then use a driver to update an Animated value using a predefined curve. You may also update an Animated value by connecting it to an event of a <code>View</code> using <code>Animated.event</code>.</p><p><img src="/assets/images/animated-diagram-127161e299f43a8c0e677715d6be7881.png"></p><p>Here&#x27;s a breakdown of the steps for an animation and where it happens:</p><ul><li>JS: The animation driver uses <code>requestAnimationFrame</code> to execute on every frame and update the value it drives using the new value it calculates based on the animation curve.</li><li>JS: Intermediate values are calculated and passed to a props node that is attached to a <code>View</code>.</li><li>JS: The <code>View</code> is updated using <code>setNativeProps</code>.</li><li>JS to Native bridge.</li><li>Native: The <code>UIView</code> or <code>android.View</code> is updated.</li></ul><p>As you can see, most of the work happens on the JS thread. If it is blocked the animation will skip frames. It also needs to go through the JS to Native bridge on every frame to update native views.</p><p>What the native driver does is move all of these steps to native. Since Animated produces a graph of animated nodes, it can be serialized and sent to native only once when the animation starts, eliminating the need to callback into the JS thread; the native code can take care of updating the views directly on the UI thread on every frame.</p><p>Here&#x27;s an example of how we can serialize an animated value and an interpolation node (not the exact implementation, just an example).</p><p>Create the native value node, this is the value that will be animated:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">createNode</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  id</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  type</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;value&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  initialValue</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Create the native interpolation node, this tells the native driver how to interpolate a value:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">createNode</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  id</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  type</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;interpolation&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  inputRange</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">10</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  outputRange</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">10</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  extrapolate</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;clamp&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Create the native props node, this tells the native driver which prop on the view it is attached to:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">createNode</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  id</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  type</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;props&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  properties</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token string" style="color:#8dc891">&#x27;style.opacity&#x27;</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Connect nodes together:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">connectNodes</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">connectNodes</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Connect the props node to a view:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">connectToView</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> ReactNative</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">findNodeHandle</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">viewRef</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>With that, the native animated module has all the info it needs to update the native views directly without having to go to JS to calculate any value.</p><p>All there is left to do is actually start the animation by specifying what type of animation curve we want and what animated value to update. Timing animations can also be simplified by calculating every frame of the animation in advance in JS to make the native implementation smaller.</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">NativeAnimatedModule</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">startAnimation</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  type</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;timing&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  frames</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0.1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0.2</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0.4</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0.65</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">...</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  animatedValueId</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>And now here&#x27;s the breakdown of what happens when the animation runs:</p><ul><li>Native: The native animation driver uses <code>CADisplayLink</code> or <code>android.view.Choreographer</code> to execute on every frame and update the value it drives using the new value it calculates based on the animation curve.</li><li>Native: Intermediate values are calculated and passed to a props node that is attached to a native view.</li><li>Native: The <code>UIView</code> or <code>android.View</code> is updated.</li></ul><p>As you can see, no more JS thread and no more bridge which means faster animations! 🎉🎉</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="how-do-i-use-this-in-my-app"></a>How do I use this in my app?<a class="hash-link" href="#how-do-i-use-this-in-my-app" title="Direct link to heading">#</a></h2><p>For normal animations the answer is simple, just add <code>useNativeDriver: true</code> to the animation config when starting it.</p><p>Before:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">timing</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">animatedValue</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  toValue</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  duration</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">500</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">start</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>After:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">timing</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">animatedValue</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  toValue</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  duration</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">500</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  useNativeDriver</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// &lt;-- Add this</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">start</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Animated values are only compatible with one driver so if you use native driver when starting an animation on a value, make sure every animation on that value also uses the native driver.</p><p>It also works with <code>Animated.event</code>, this is very useful if you have an animation that must follow the scroll position because without the native driver it will always run a frame behind of the gesture because of the async nature of React Native.</p><p>Before:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">ScrollView</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  scrollEventThrottle</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token number" style="color:#5a9bcf">16</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  onScroll</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">event</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">[</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> nativeEvent</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> contentOffset</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> y</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">animatedValue </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">content</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag class-name" style="color:#fac863">ScrollView</span><span class="token tag punctuation" style="color:#657b83">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>After:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain">Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">ScrollView </span><span class="token comment" style="color:#93a1a1">// &lt;-- Use the Animated ScrollView wrapper</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  scrollEventThrottle</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// &lt;-- Use 1 here to make sure no events are ever missed</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  onScroll</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">event</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">[</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> nativeEvent</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> contentOffset</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> y</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">animatedValue </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> useNativeDriver</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// &lt;-- Add this</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">content</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag class-name" style="color:#fac863">Animated.ScrollView</span><span class="token tag punctuation" style="color:#657b83">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="caveats"></a>Caveats<a class="hash-link" href="#caveats" title="Direct link to heading">#</a></h2><p>Not everything you can do with Animated is currently supported in Native Animated. The main limitation is that you can only animate non-layout properties, things like <code>transform</code> and <code>opacity</code> will work but Flexbox and position properties won&#x27;t. Another one is with <code>Animated.event</code>, it will only work with direct events and not bubbling events. This means it does not work with <code>PanResponder</code> but does work with things like <code>ScrollView#onScroll</code>.</p><p>Native Animated has also been part of React Native for quite a while but has never been documented because it was considered experimental. Because of that make sure you are using a recent version (0.40+) of React Native if you want to use this feature.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="resources"></a>Resources<a class="hash-link" href="#resources" title="Direct link to heading">#</a></h2><p>For more information about animated I recommend watching <a href="https://www.youtube.com/watch?v=xtqUJVqpKNo" target="_blank" rel="noopener noreferrer">this talk</a> by <a href="https://twitter.com/Vjeux" target="_blank" rel="noopener noreferrer">Christopher Chedeau</a>.</p><p>If you want a deep dive into animations and how offloading them to native can improve user experience there is also <a href="https://www.youtube.com/watch?v=qgSMjYWqBk4" target="_blank" rel="noopener noreferrer">this talk</a> by <a href="https://twitter.com/kzzzf" target="_blank" rel="noopener noreferrer">Krzysztof Magiera</a>.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/engineering">engineering</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2017/01/07/monthly-release-cadence">A Monthly Release Cadence: Releasing December and January RC</a></h2><div class="margin-vert--md"><time datetime="2017-01-07T00:00:00.000Z" class="blogPostDate_1D58">January 7, 2017 · 2 min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/EricVicenti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://secure.gravatar.com/avatar/077ad5372b65567fe952a99f3b627048?s=128" alt="Eric Vicenti"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/EricVicenti" target="_blank" rel="noopener noreferrer">Eric Vicenti</a></h4><small class="avatar__subtitle">Engineer at Facebook</small></div></div></header><div class="markdown"><p>Shortly after React Native was introduced, we started releasing every two weeks to help the community adopt new features, while keeping versions stable for production use. At Facebook we had to stabilize the codebase every two weeks for the release of our production iOS apps, so we decided to release the open source versions at the same pace. Now, many of the Facebook apps ship once per week, especially on Android. Because we ship from master weekly, we need to keep it quite stable. So the bi-weekly release cadence doesn&#x27;t even benefit internal contributors anymore.</p><p>We frequently hear feedback from the community that the release rate is hard to keep up with. Tools like <a href="https://expo.io/" target="_blank" rel="noopener noreferrer">Expo</a> had to skip every other release in order to manage the rapid change in version. So it seems clear that the bi-weekly releases did not serve the community well.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="now-releasing-monthly"></a>Now releasing monthly<a class="hash-link" href="#now-releasing-monthly" title="Direct link to heading">#</a></h3><p>We&#x27;re happy to announce the new monthly release cadence, and the December 2016 release, <code>v0.40</code>, which has been stabilizing for all last month and is ready to adopt. (Just make sure to <a href="https://github.com/facebook/react-native/releases/tag/v0.40.0" target="_blank" rel="noopener noreferrer">update headers in your native modules on iOS</a>).</p><p>Although it may vary a few days to avoid weekends or handle unforeseen issues, you can now expect a given release to be available on the first day of the month, and released on the last.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="use-the-current-month-for-the-best-support"></a>Use the current month for the best support<a class="hash-link" href="#use-the-current-month-for-the-best-support" title="Direct link to heading">#</a></h3><p>The January release candidate is ready to try, and you can <a href="https://github.com/facebook/react-native/releases/tag/v0.41.0-rc.0" target="_blank" rel="noopener noreferrer">see what&#x27;s new here</a>.</p><p>To see what changes are coming and provide better feedback to React Native contributors, always use the current month&#x27;s release candidate when possible. By the time each version is released at the end of the month, the changes it contains will have been shipped in production Facebook apps for over two weeks.</p><p>You can easily upgrade your app with the new <a href="/blog/2016/12/05/easier-upgrades">react-native-git-upgrade</a> command:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npm install </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">g react</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">native</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">git</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">upgrade</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">react</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">native</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">git</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">upgrade </span><span class="token number" style="color:#5a9bcf">0.41</span><span class="token number" style="color:#5a9bcf">.0</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">rc</span><span class="token punctuation" style="color:#657b83">.</span><span class="token number" style="color:#5a9bcf">0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>We hope this simpler approach will make it easier for the community to keep track of changes in React Native, and to adopt new versions as quickly as possible!</p><p>(Thanks go to <a href="https://github.com/mkonicek" target="_blank" rel="noopener noreferrer">Martin Konicek</a> for coming up with this plan and <a href="https://github.com/grabbou" target="_blank" rel="noopener noreferrer">Mike Grabowski</a> for making it happen)</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/announcement">announcement</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2016/12/05/easier-upgrades">Easier Upgrades Thanks to Git</a></h2><div class="margin-vert--md"><time datetime="2016-12-05T00:00:00.000Z" class="blogPostDate_1D58">December 5, 2016 · 4 min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/ncuillery" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://fr.gravatar.com/userimage/78328995/184460def705a160fd8edadc04f60eaf.jpg?size=128" alt="Nicolas Cuillery"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/ncuillery" target="_blank" rel="noopener noreferrer">Nicolas Cuillery</a></h4><small class="avatar__subtitle">JavaScript consultant and trainer at Zenika</small></div></div></header><div class="markdown"><p>Upgrading to new versions of React Native has been difficult. You might have seen something like this before:</p><p><img src="/assets/images/git-upgrade-conflict-259c34d993954d886ad788010950c320.png"></p><p>None of those options is ideal. By overwriting the file we lose our local changes. By not overwriting we don&#x27;t get the latest updates.</p><p>Today I am proud to introduce a new tool that helps solve this problem. The tool is called <code>react-native-git-upgrade</code> and uses Git behind the scenes to resolve conflicts automatically whenever possible.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><blockquote><p><strong>Requirement</strong>: Git has to be available in the <code>PATH</code>. Your project doesn&#x27;t have to be managed by Git.</p></blockquote><p>Install <code>react-native-git-upgrade</code> globally:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q shell"><div tabindex="0" class="prism-code language-shell codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">npm</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> -g react-native-git-upgrade</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>or, using <a href="https://yarnpkg.com/" target="_blank" rel="noopener noreferrer">Yarn</a>:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q shell"><div tabindex="0" class="prism-code language-shell codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">yarn</span><span class="token plain"> global </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> react-native-git-upgrade</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Then, run it inside your project directory:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q shell"><div tabindex="0" class="prism-code language-shell codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#fac863">cd</span><span class="token plain"> MyProject</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ react-native-git-upgrade </span><span class="token number" style="color:#5a9bcf">0.38</span><span class="token plain">.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><blockquote><p>Note: Do <strong>not</strong> run &#x27;npm install&#x27; to install a new version of <code>react-native</code>. The tool needs to be able to compare the old and new project template to work correctly. Simply run it inside your app folder as shown above, while still on the old version.</p></blockquote><p>Example output:</p><p><img src="/assets/images/git-upgrade-output-411aa7509a5c0465f149d7deb8e8b4ad.png"></p><p>You can also run <code>react-native-git-upgrade</code> with no arguments to upgrade to the latest version of React Native.</p><p>We try to preserve your changes in Android and iOS build files, so you don&#x27;t need to run <code>react-native link</code> after an upgrade.</p><p>We have designed the implementation to be as little intrusive as possible. It is entirely based on a local Git repository created on-the-fly in a temporary directory. It won&#x27;t interfere with your project repository (no matter what VCS you use: Git, SVN, Mercurial, ... or none). Your sources are restored in case of unexpected errors.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="how-does-it-work"></a>How does it work?<a class="hash-link" href="#how-does-it-work" title="Direct link to heading">#</a></h2><p>The key step is generating a Git patch. The patch contains all the changes made in the React Native templates between the version your app is using and the new version.</p><p>To obtain this patch, we need to generate an app from the templates embedded in the <code>react-native</code> package inside your <code>node_modules</code> directory (these are the same templates the <code>react-native init</code> commands uses). Then, after the native apps have been generated from the templates in both the current version and the new version, Git is able to produce a patch that is adapted to your project (i.e. containing your app name):</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token punctuation" style="color:#657b83">[</span><span class="token operator" style="color:#fc929e">...</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">diff </span><span class="token operator" style="color:#fc929e">--</span><span class="token plain">git a</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">ios</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">MyAwesomeApp</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Info</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">plist b</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">ios</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">MyAwesomeApp</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Info</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">plist</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">index e98ebb0</span><span class="token punctuation" style="color:#657b83">.</span><span class="token number" style="color:#5a9bcf">.2</span><span class="token plain">fb6a11 </span><span class="token number" style="color:#5a9bcf">100644</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">--</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> a</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">ios</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">MyAwesomeApp</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Info</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">plist</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">++</span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"> b</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">ios</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">MyAwesomeApp</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Info</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">plist</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">@@ </span><span class="token operator" style="color:#fc929e">-</span><span class="token number" style="color:#5a9bcf">45</span><span class="token punctuation" style="color:#657b83">,</span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">+</span><span class="token number" style="color:#5a9bcf">45</span><span class="token punctuation" style="color:#657b83">,</span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain"> @@</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">dict</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">key</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">localhost</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">key</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">dict</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">               </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">key</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">NSTemporaryExceptionAllowsInsecureHTTPLoads</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">key</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">+</span><span class="token plain">               </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">key</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain">NSExceptionAllowsInsecureHTTPLoads</span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">key</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag" style="color:#fc929e">true</span><span class="token tag punctuation" style="color:#657b83">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">dict</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#657b83">&lt;/</span><span class="token tag" style="color:#fc929e">dict</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">[</span><span class="token operator" style="color:#fc929e">...</span><span class="token punctuation" style="color:#657b83">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>All we need now is to apply this patch to your source files. While the old <code>react-native upgrade</code> process would have prompted you for any small difference, Git is able to merge most of the changes automatically using its 3-way merge algorithm and eventually leave us with familiar conflict delimiters:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token number" style="color:#5a9bcf">13</span><span class="token plain">B07F951A680F5B00A75B9A </span><span class="token comment" style="color:#93a1a1">/* Release */</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            isa </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> XCBuildConfiguration</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">            buildSettings </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token constant" style="color:#5a9bcf">ASSETCATALOG_COMPILER_APPICON_NAME</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> AppIcon</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">&lt;&lt;</span><span class="token operator" style="color:#fc929e">&lt;&lt;</span><span class="token operator" style="color:#fc929e">&lt;&lt;</span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token plain"> ours</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token constant" style="color:#5a9bcf">CODE_SIGN_IDENTITY</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;iPhone Developer&quot;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token constant" style="color:#5a9bcf">FRAMEWORK_SEARCH_PATHS</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token string" style="color:#8dc891">&quot;$(inherited)&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token string" style="color:#8dc891">&quot;$(PROJECT_DIR)/HockeySDK.embeddedframework&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token string" style="color:#8dc891">&quot;$(PROJECT_DIR)/HockeySDK-iOS/HockeySDK.embeddedframework&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">===</span><span class="token operator" style="color:#fc929e">===</span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token constant" style="color:#5a9bcf">CURRENT_PROJECT_VERSION</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">&gt;&gt;&gt;</span><span class="token operator" style="color:#fc929e">&gt;&gt;&gt;</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> theirs</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token constant" style="color:#5a9bcf">HEADER_SEARCH_PATHS</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token string" style="color:#8dc891">&quot;$(inherited)&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Applications</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Xcode</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">app</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Contents</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Developer</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">Toolchains</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">XcodeDefault</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">xctoolchain</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">usr</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">include</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token string" style="color:#8dc891">&quot;$(SRCROOT)/../node_modules/react-native/React/**&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                    </span><span class="token string" style="color:#8dc891">&quot;$(SRCROOT)/../node_modules/react-native-code-push/ios/CodePush/**&quot;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>These conflicts are generally easy to reason about. The delimiter <strong>ours</strong> stands for &quot;your team&quot; whereas <strong>theirs</strong> could be seen as &quot;the React Native team&quot;.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="why-introduce-a-new-global-package"></a>Why introduce a new global package?<a class="hash-link" href="#why-introduce-a-new-global-package" title="Direct link to heading">#</a></h2><p>React Native comes with a global CLI (the <a href="https://www.npmjs.com/package/react-native-cli" target="_blank" rel="noopener noreferrer">react-native-cli</a> package) which delegates commands to the local CLI embedded in the <code>node_modules/react-native/local-cli</code> directory.</p><p>As we mentioned above, the process has to be started from your current React Native version. If we had embedded the implementation in the local-cli, you wouldn&#x27;t be able to enjoy this feature when using old versions of React Native. For example, you wouldn&#x27;t be able to upgrade from 0.29.2 to 0.38.0 if this new upgrade code was only released in 0.38.0.</p><p>Upgrading based on Git is a big improvement in developer experience and it is important to make it available to everyone. By using a separate package <a href="https://www.npmjs.com/package/react-native-git-upgrade" target="_blank" rel="noopener noreferrer">react-native-git-upgrade</a> installed globally you can use this new code today no matter what version of React Native your project is using.</p><p>One more reason is the recent <a href="https://twitter.com/martinkonicek/status/800730190141857793" target="_blank" rel="noopener noreferrer">Yeoman wipeout</a> by Martin Konicek. We didn&#x27;t want to get these Yeoman dependencies back into the <code>react-native</code> package to be able to evaluate the old template in order to create the patch.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="try-it-out-and-provide-feedback"></a>Try it out and provide feedback<a class="hash-link" href="#try-it-out-and-provide-feedback" title="Direct link to heading">#</a></h2><p>As a conclusion, I would say, enjoy the feature and feel free <a href="https://github.com/facebook/react-native/issues" target="_blank" rel="noopener noreferrer">to suggest improvements, report issues</a> and especially <a href="https://github.com/facebook/react-native/pulls" target="_blank" rel="noopener noreferrer">send pull requests</a>. Each environment is a bit different and each React Native project is different, and we need your feedback to make this work well for everyone.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="thank-you"></a>Thank you!<a class="hash-link" href="#thank-you" title="Direct link to heading">#</a></h3><p>I would like to thank the awesome companies <a href="http://www.zenika.com" target="_blank" rel="noopener noreferrer">Zenika</a> and <a href="http://www.groupem6.fr/le-groupe_en/activites/diversifications/m6-web.html" target="_blank" rel="noopener noreferrer">M6 Web</a> without whom none of this would have been possible!</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/announcement">announcement</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2016/11/08/introducing-button-yarn-and-a-public-roadmap">Introducing Button, Faster Installs with Yarn, and a Public Roadmap</a></h2><div class="margin-vert--md"><time datetime="2016-11-08T00:00:00.000Z" class="blogPostDate_1D58">November 8, 2016 · 3 min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://s.gravatar.com/avatar/f2223874e66e884c99087e452501f2da?s=128" alt="Héctor Ramos"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer">Héctor Ramos</a></h4><small class="avatar__subtitle">Developer Advocate at Facebook</small></div></div></header><div class="markdown"><p>We have heard from many people that there is so much work happening with React Native, it can be tough to keep track of what&#x27;s going on. To help communicate what work is in progress, we are now publishing a <a href="https://github.com/facebook/react-native/wiki/Roadmap" target="_blank" rel="noopener noreferrer">roadmap for React Native</a>. At a high level, this work can be broken down into three priorities:</p><ul><li><strong>Core Libraries</strong>. Adding more functionality to the most useful components and APIs.</li><li><strong>Stability</strong>. Improve the underlying infrastructure to reduce bugs and improve code quality.</li><li><strong>Developer Experience</strong>. Help React Native developers move faster</li></ul><p>If you have suggestions for features that you think would be valuable on the roadmap, check out <a href="https://react-native.canny.io/feature-requests" target="_blank" rel="noopener noreferrer">Canny</a>, where you can suggest new features and discuss existing proposals.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="whats-new-in-react-native"></a>What&#x27;s new in React Native<a class="hash-link" href="#whats-new-in-react-native" title="Direct link to heading">#</a></h2><p><a href="https://github.com/facebook/react-native/releases/tag/v0.37.0" target="_blank" rel="noopener noreferrer">Version 0.37 of React Native</a>, released today, introduces a new core component to make it really easy to add a touchable Button to any app. We&#x27;re also introducing support for the new <a href="https://yarnpkg.com/" target="_blank" rel="noopener noreferrer">Yarn</a> package manager, which should speed up the whole process of updating your app&#x27;s dependencies.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="introducing-button"></a>Introducing Button<a class="hash-link" href="#introducing-button" title="Direct link to heading">#</a></h2><p>Today we&#x27;re introducing a basic <code>&lt;Button /&gt;</code> component that looks great on every platform. This addresses one of the most common pieces of feedback we get: React Native is one of the only mobile development toolkits without a button ready to use out of the box.</p><p><img alt="Simple Button on Android, iOS" src="/assets/images/button-android-ios-98b790d121cd61296c5a6cb9fc07b785.png"></p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag class-name" style="color:#fac863">Button</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e">  </span><span class="token tag attr-name" style="color:#c5a5c5">onPress</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#657b83">=</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">onPressMe</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e">  </span><span class="token tag attr-name" style="color:#c5a5c5">title</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">Press Me</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e">  </span><span class="token tag attr-name" style="color:#c5a5c5">accessibilityLabel</span><span class="token tag attr-value punctuation attr-equals" style="color:#657b83">=</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag attr-value" style="color:#8dc891">Learn more about this Simple Button</span><span class="token tag attr-value punctuation" style="color:#657b83">&quot;</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e"></span><span class="token tag punctuation" style="color:#657b83">/&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Experienced React Native developers know how to make a button: use TouchableOpacity for the default look on iOS, TouchableNativeFeedback for the ripple effect on Android, then apply a few styles. Custom buttons aren&#x27;t particularly hard to build or install, but we aim to make React Native radically easy to learn. With the addition of a basic button into core, newcomers will be able to develop something awesome in their first day, rather than spending that time formatting a Button and learning about Touchable nuances.</p><p>Button is meant to work great and look native on every platform, so it won&#x27;t support all the bells and whistles that custom buttons do. It is a great starting point, but is not meant to replace all your existing buttons. To learn more, check out the <a href="/docs/button">new Button documentation</a>, complete with a runnable example!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="speed-up-react-native-init-using-yarn"></a>Speed up <code>react-native init</code> using Yarn<a class="hash-link" href="#speed-up-react-native-init-using-yarn" title="Direct link to heading">#</a></h2><p>You can now use <a href="https://yarnpkg.com/" target="_blank" rel="noopener noreferrer">Yarn</a>, the new package manager for JavaScript, to speed up <code>react-native init</code> significantly. To see the speedup please <a href="https://yarnpkg.com/en/docs/install" target="_blank" rel="noopener noreferrer">install yarn</a> and upgrade your <code>react-native-cli</code> to 1.2.0:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q sh"><div tabindex="0" class="prism-code language-sh codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ npm install -g react-native-cli</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>You should now see “Using yarn” when setting up new apps:</p><p><img alt="Using yarn" src="/assets/images/yarn-rncli-d93f59d7944c402a86c49acbd5b91ad5.png"></p><p>In simple local testing <code>react-native init</code> finished in <strong>about 1 minute on a good network</strong> (vs around 3 minutes when using npm 3.10.8). Installing yarn is optional but highly recommended.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="thank-you"></a>Thank you!<a class="hash-link" href="#thank-you" title="Direct link to heading">#</a></h2><p>We&#x27;d like to thank everyone who contributed to this release. The full <a href="https://github.com/facebook/react-native/releases/tag/v0.37.0" target="_blank" rel="noopener noreferrer">release notes</a> are now available on GitHub. With over two dozen bug fixes and new features, React Native just keeps getting better thanks to you.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/announcement">announcement</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2016/10/25/0.36-headless-js-the-keyboard-api-and-more">0.36: Headless JS, the Keyboard API, &amp; more</a></h2><div class="margin-vert--md"><time datetime="2016-10-25T00:00:00.000Z" class="blogPostDate_1D58">October 25, 2016 · 3 min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://s.gravatar.com/avatar/f2223874e66e884c99087e452501f2da?s=128" alt="Héctor Ramos"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer">Héctor Ramos</a></h4><small class="avatar__subtitle">Developer Advocate at Facebook</small></div></div></header><div class="markdown"><p>Today we are releasing <a href="https://github.com/facebook/react-native/releases/tag/v0.36.0" target="_blank" rel="noopener noreferrer">React Native 0.36</a>. Read on to learn more about what&#x27;s new.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="headless-js"></a>Headless JS<a class="hash-link" href="#headless-js" title="Direct link to heading">#</a></h2><p>Headless JS is a way to run tasks in JavaScript while your app is in the background. It can be used, for example, to sync fresh data, handle push notifications, or play music. It is only available on Android, for now.</p><p>To get started, define your async task in a dedicated file (e.g. <code>SomeTaskName.js</code>):</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">module</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function-variable function" style="color:#79b6f2">exports</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">taskData</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token comment" style="color:#93a1a1">// Perform your task here.</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Next, register your task in on <code>AppRegistry</code>:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">AppRegistry</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">registerHeadlessTask</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;SomeTaskName&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;SomeTaskName&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Using Headless JS does require some native Java code to be written in order to allow you to start up the service when needed. Take a look at our new <a href="/docs/headless-js-android">Headless JS docs</a> to learn more!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="the-keyboard-api"></a>The Keyboard API<a class="hash-link" href="#the-keyboard-api" title="Direct link to heading">#</a></h2><p>Working with the on-screen keyboard is now easier with <a href="/docs/keyboard"><code>Keyboard</code></a>. You can now listen for native keyboard events and react to them. For example, to dismiss the active keyboard, simply call <code>Keyboard.dismiss()</code>:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q js"><div tabindex="0" class="prism-code language-js codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token keyword module" style="color:#c5a5c5">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#657b83">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Keyboard</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#657b83">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#c5a5c5">from</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;react-native&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">// Hide that keyboard!</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token maybe-class-name">Keyboard</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">dismiss</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="animated-division"></a>Animated Division<a class="hash-link" href="#animated-division" title="Direct link to heading">#</a></h2><p>Combining two animated values via addition, multiplication, and modulo are already supported by React Native. With version 0.36, combining two <a href="/docs/animated#divide">animated values via division</a> is now possible. There are some cases where an animated value needs to invert another animated value for calculation. An example is inverting a scale (2x --&gt; 0.5x):</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> a </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">Value</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> b </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">divide</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">Animated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">spring</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  toValue</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">start</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p><code>b</code> will then follow <code>a</code>&#x27;s spring animation and produce the value of <code>1 / a</code>.</p><p>The basic usage is like this:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag class-name" style="color:#fac863">Animated.View</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#657b83">=</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">transform</span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> </span><span class="token tag script language-javascript punctuation" style="color:#657b83">[</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">scale</span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> a</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag script language-javascript punctuation" style="color:#657b83">]</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag punctuation" style="color:#657b83">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag class-name" style="color:#fac863">Animated.Image</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#657b83">=</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">transform</span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> </span><span class="token tag script language-javascript punctuation" style="color:#657b83">[</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">scale</span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> b</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag script language-javascript punctuation" style="color:#657b83">]</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag punctuation" style="color:#657b83">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag class-name" style="color:#fac863">Animated.View</span><span class="token tag punctuation" style="color:#657b83">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>In this example, the inner image won&#x27;t get stretched at all because the parent&#x27;s scaling gets cancelled out. If you&#x27;d like to learn more, check out the <a href="/docs/animations">Animations guide</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="dark-status-bars"></a>Dark Status Bars<a class="hash-link" href="#dark-status-bars" title="Direct link to heading">#</a></h2><p>A new <code>barStyle</code> value has been added to <code>StatusBar</code>: <code>dark-content</code>. With this addition, you can now use <a href="/docs/statusbar#barstyle"><code>barStyle</code></a> on both Android and iOS. The behavior will now be the following:</p><ul><li><code>default</code>: Use the platform default (light on iOS, dark on Android).</li><li><code>light-content</code>: Use a light status bar with black text and icons.</li><li><code>dark-content</code>: Use a dark status bar with white text and icons.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="and-more"></a>...and more<a class="hash-link" href="#and-more" title="Direct link to heading">#</a></h2><p>The above is just a sample of what has changed in 0.36. Check out the <a href="https://github.com/facebook/react-native/releases/tag/v0.36.0" target="_blank" rel="noopener noreferrer">release notes on GitHub</a> to see the full list of new features, bug fixes, and breaking changes.</p><p>You can upgrade to 0.36 by running the following commands in a terminal:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q bash"><div tabindex="0" class="prism-code language-bash codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">npm</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> --save react-native@0.36</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">$ react-native upgrade</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/announcement">announcement</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2016/09/08/exponent-talks-unraveling-navigation">Expo Talks: Adam on Unraveling Navigation</a></h2><div class="margin-vert--md"><time datetime="2016-09-08T00:00:00.000Z" class="blogPostDate_1D58">September 8, 2016 · One min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://s.gravatar.com/avatar/f2223874e66e884c99087e452501f2da?s=128" alt="Héctor Ramos"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer">Héctor Ramos</a></h4><small class="avatar__subtitle">Developer Advocate at Facebook</small></div></div></header><div class="markdown"><p><a href="https://twitter.com/skevy" target="_blank" rel="noopener noreferrer">Adam Miskiewicz</a> from <a href="https://expo.io/" target="_blank" rel="noopener noreferrer">Expo</a> talks about mobile navigation and the <a href="https://github.com/exponent/ex-navigation" target="_blank" rel="noopener noreferrer"><code>ex-navigation</code></a> React Native library at Expo&#x27;s office hours last week.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/videos">videos</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2016/08/19/right-to-left-support-for-react-native-apps">Right-to-Left Layout Support For React Native Apps</a></h2><div class="margin-vert--md"><time datetime="2016-08-19T00:00:00.000Z" class="blogPostDate_1D58">August 19, 2016 · 7 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/MengjueW" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars0.githubusercontent.com/u/13987140?v=3&amp;s=128" alt="Mengjue (Mandy) Wang"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/MengjueW" target="_blank" rel="noopener noreferrer">Mengjue (Mandy) Wang</a></h4><small class="avatar__subtitle">Software Engineer Intern at Facebook</small></div></div></header><div class="markdown"><p>After launching an app to the app stores, internationalization is the next step to further your audience reach. Over 20 countries and numerous people around the world use Right-to-Left (RTL) languages. Thus, making your app support RTL for them is necessary.</p><p>We&#x27;re glad to announce that React Native has been improved to support RTL layouts. This is now available in the <a href="https://github.com/facebook/react-native" target="_blank" rel="noopener noreferrer">react-native</a> master branch today, and will be available in the next RC: <a href="https://github.com/facebook/react-native/releases" target="_blank" rel="noopener noreferrer"><code>v0.33.0-rc</code></a>.</p><p>This involved changing <a href="https://github.com/facebook/css-layout" target="_blank" rel="noopener noreferrer">css-layout</a>, the core layout engine used by RN, and RN core implementation, as well as specific OSS JS components to support RTL.</p><p>To battle test the RTL support in production, the latest version of the <strong>Facebook Ads Manager</strong> app (the first cross-platform 100% RN app) is now available in Arabic and Hebrew with RTL layouts for both <a href="https://itunes.apple.com/app/id964397083" target="_blank" rel="noopener noreferrer">iOS</a> and <a href="https://play.google.com/store/apps/details?id=com.facebook.adsmanager" target="_blank" rel="noopener noreferrer">Android</a>. Here is how it looks like in those RTL languages:</p><img src="/blog/assets/rtl-ama-ios-arabic.png" width="280" style="margin:10px"><img src="/blog/assets/rtl-ama-android-hebrew.png" width="280" style="margin:10px"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="overview-changes-in-rn-for-rtl-support"></a>Overview Changes in RN for RTL support<a class="hash-link" href="#overview-changes-in-rn-for-rtl-support" title="Direct link to heading">#</a></h2><p><a href="https://github.com/facebook/css-layout" target="_blank" rel="noopener noreferrer">css-layout</a> already has a concept of <code>start</code> and <code>end</code> for the layout. In the Left-to-Right (LTR) layout, <code>start</code> means <code>left</code>, and <code>end</code> means <code>right</code>. But in RTL, <code>start</code> means <code>right</code>, and <code>end</code> means <code>left</code>. This means we can make RN depend on the <code>start</code> and <code>end</code> calculation to compute the correct layout, which includes <code>position</code>, <code>padding</code>, and <code>margin</code>.</p><p>In addition, <a href="https://github.com/facebook/css-layout" target="_blank" rel="noopener noreferrer">css-layout</a> already makes each component&#x27;s direction inherits from its parent. This means, we simply need to set the direction of the root component to RTL, and the entire app will flip.</p><p>The diagram below describes the changes at high level:</p><p><img src="/assets/images/rtl-rn-core-updates-a7f3c54c3cd829c53a6da1d69bb8bf3c.png"></p><p>These include:</p><ul><li><a href="https://github.com/facebook/css-layout/commit/46c842c71a1232c3c78c4215275d104a389a9a0f" target="_blank" rel="noopener noreferrer">css-layout RTL support for absolute positioning</a></li><li>mapping <code>left</code> and <code>right</code> to <code>start</code> and <code>end</code> in RN core implementation for shadow nodes</li><li>and exposing a <a href="https://github.com/facebook/react-native/blob/f0fb228ec76ed49e6ed6d786d888e8113b8959a2/Libraries/Utilities/I18nManager.js" target="_blank" rel="noopener noreferrer">bridged utility module</a> to help control the RTL layout</li></ul><p>With this update, when you allow RTL layout for your app:</p><ul><li>every component layout will flip horizontally</li><li>some gestures and animations will automatically have RTL layout, if you are using RTL-ready OSS components</li><li>minimal additional effort may be needed to make your app fully RTL-ready</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="making-an-app-rtl-ready"></a>Making an App RTL-ready<a class="hash-link" href="#making-an-app-rtl-ready" title="Direct link to heading">#</a></h2><ol><li><p>To support RTL, you should first add the RTL language bundles to your app.</p><ul><li>See the general guides from <a href="https://developer.apple.com/library/ios/documentation/MacOSX/Conceptual/BPInternational/LocalizingYourApp/LocalizingYourApp.html#//apple_ref/doc/uid/10000171i-CH5-SW1" target="_blank" rel="noopener noreferrer">iOS</a> and <a href="https://developer.android.com/training/basics/supporting-devices/languages.html" target="_blank" rel="noopener noreferrer">Android</a>.</li></ul></li><li><p>Allow RTL layout for your app by calling the <code>allowRTL()</code> function at the beginning of native code. We provided this utility to only apply to an RTL layout when your app is ready. Here is an example:</p><p>iOS:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q objc"><div tabindex="0" class="prism-code language-objc codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token comment" style="color:#93a1a1">// in AppDelegate.m</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">[</span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">RCTI18nUtil sharedInstance</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> allowRTL</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain">YES</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>Android:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q java"><div tabindex="0" class="prism-code language-java codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">// in MainActivity.java</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        I18nUtil sharedI18nUtilInstance = I18nUtil.getInstance();</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        sharedI18nUtilInstance.allowRTL(context, true);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></li><li><p>For Android, you need add <code>android:supportsRtl=&quot;true&quot;</code> to the <a href="http://developer.android.com/guide/topics/manifest/application-element.html" target="_blank" rel="noopener noreferrer"><code>&lt;application&gt;</code></a> element in <code>AndroidManifest.xml</code> file.</p></li></ol><p>Now, when you recompile your app and change the device language to an RTL language (e.g. Arabic or Hebrew), your app layout should change to RTL automatically.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="writing-rtl-ready-components"></a>Writing RTL-ready Components<a class="hash-link" href="#writing-rtl-ready-components" title="Direct link to heading">#</a></h2><p>In general, most components are already RTL-ready, for example:</p><ul><li>Left-to-Right Layout</li></ul><img src="/blog/assets/rtl-demo-listitem-ltr.png" width="300"><ul><li>Right-to-Left Layout</li></ul><img src="/blog/assets/rtl-demo-listitem-rtl.png" width="300"><p>However, there are several cases to be aware of, for which you will need the <a href="https://github.com/facebook/react-native/blob/f0fb228ec76ed49e6ed6d786d888e8113b8959a2/Libraries/Utilities/I18nManager.js" target="_blank" rel="noopener noreferrer"><code>I18nManager</code></a>. In <a href="https://github.com/facebook/react-native/blob/f0fb228ec76ed49e6ed6d786d888e8113b8959a2/Libraries/Utilities/I18nManager.js" target="_blank" rel="noopener noreferrer"><code>I18nManager</code></a>, there is a constant <code>isRTL</code> to tell if layout of app is RTL or not, so that you can make the necessary changes according to the layout.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="icons-with-directional-meaning"></a>Icons with Directional Meaning<a class="hash-link" href="#icons-with-directional-meaning" title="Direct link to heading">#</a></h4><p>If your component has icons or images, they will be displayed the same way in LTR and RTL layout, because RN will not flip your source image. Therefore, you should flip them according to the layout style.</p><ul><li>Left-to-Right Layout</li></ul><img src="/blog/assets/rtl-demo-icon-ltr.png" width="300"><ul><li>Right-to-Left Layout</li></ul><img src="/blog/assets/rtl-demo-icon-rtl.png" width="300"><p>Here are two ways to flip the icon according to the direction:</p><ul><li><p>Adding a <code>transform</code> style to the image component:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag class-name" style="color:#fac863">Image</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e">  </span><span class="token tag attr-name" style="color:#c5a5c5">source</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#657b83">=</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript operator" style="color:#fc929e">...</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e">  </span><span class="token tag attr-name" style="color:#c5a5c5">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#657b83">=</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">transform</span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> </span><span class="token tag script language-javascript punctuation" style="color:#657b83">[</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">scaleX</span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> I18nManager</span><span class="token tag script language-javascript punctuation" style="color:#657b83">.</span><span class="token tag script language-javascript" style="color:#fc929e">isRTL </span><span class="token tag script language-javascript operator" style="color:#fc929e">?</span><span class="token tag script language-javascript" style="color:#fc929e"> </span><span class="token tag script language-javascript operator" style="color:#fc929e">-</span><span class="token tag script language-javascript number" style="color:#5a9bcf">1</span><span class="token tag script language-javascript" style="color:#fc929e"> </span><span class="token tag script language-javascript operator" style="color:#fc929e">:</span><span class="token tag script language-javascript" style="color:#fc929e"> </span><span class="token tag script language-javascript number" style="color:#5a9bcf">1</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag script language-javascript punctuation" style="color:#657b83">]</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag" style="color:#fc929e"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token tag" style="color:#fc929e"></span><span class="token tag punctuation" style="color:#657b83">/&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></li><li><p>Or, changing the image source according to the direction:</p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> imageSource </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;./back.png&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">I18nManager</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">isRTL</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  imageSource </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;./forward.png&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#657b83">&lt;</span><span class="token tag class-name" style="color:#fac863">Image</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">source</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#657b83">=</span><span class="token tag script language-javascript punctuation" style="color:#657b83">{</span><span class="token tag script language-javascript" style="color:#fc929e">imageSource</span><span class="token tag script language-javascript punctuation" style="color:#657b83">}</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag punctuation" style="color:#657b83">/&gt;</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="gestures-and-animations"></a>Gestures and Animations<a class="hash-link" href="#gestures-and-animations" title="Direct link to heading">#</a></h4><p>In Android and iOS development, when you change to RTL layout, the gestures and animations are the opposite of LTR layout. Currently, in RN, gestures and animations are not supported on RN core code level, but on components level. The good news is, some of these components already support RTL today, such as <a href="https://github.com/facebook/react-native/blob/38a6eec0db85a5204e85a9a92b4dee2db9641671/Libraries/Experimental/SwipeableRow/SwipeableRow.js" target="_blank" rel="noopener noreferrer"><code>SwipeableRow</code></a> and <a href="https://github.com/facebook/react-native/tree/master/Libraries/NavigationExperimental" target="_blank" rel="noopener noreferrer"><code>NavigationExperimental</code></a>. However, other components with gestures will need to support RTL manually.</p><p>A good example to illustrate gesture RTL support is <a href="https://github.com/facebook/react-native/blob/38a6eec0db85a5204e85a9a92b4dee2db9641671/Libraries/Experimental/SwipeableRow/SwipeableRow.js" target="_blank" rel="noopener noreferrer"><code>SwipeableRow</code></a>.</p><p align="center"><img src="/blog/assets/rtl-demo-swipe-ltr.png" width="280" style="margin:10px"><img src="/blog/assets/rtl-demo-swipe-rtl.png" width="280" style="margin:10px"></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="gestures-example"></a>Gestures Example<a class="hash-link" href="#gestures-example" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q js"><div tabindex="0" class="prism-code language-js codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token comment" style="color:#93a1a1">// SwipeableRow.js</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token function" style="color:#79b6f2">_isSwipingExcessivelyRightFromClosedPosition</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">gestureState</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#fac863">Object</span><span class="token punctuation" style="color:#657b83">)</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> boolean </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token comment" style="color:#93a1a1">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> gestureStateDx </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">IS_RTL</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">gestureState</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">dx</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> gestureState</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">dx</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">_isSwipingRightFromClosed</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">gestureState</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">&amp;&amp;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    gestureStateDx </span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">RIGHT_SWIPE_THRESHOLD</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="animation-example"></a>Animation Example<a class="hash-link" href="#animation-example" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q js"><div tabindex="0" class="prism-code language-js codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token comment" style="color:#93a1a1">// SwipeableRow.js</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token function" style="color:#79b6f2">_animateBounceBack</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">duration</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#657b83">)</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token comment" style="color:#93a1a1">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> swipeBounceBackDistance </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">IS_RTL</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">-</span><span class="token constant" style="color:#5a9bcf">RIGHT_SWIPE_BOUNCE_BACK_DISTANCE</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token constant" style="color:#5a9bcf">RIGHT_SWIPE_BOUNCE_BACK_DISTANCE</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">_animateTo</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">swipeBounceBackDistance</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    duration</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">_animateToClosedPositionDuringBounce</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="maintaining-your-rtl-ready-app"></a>Maintaining Your RTL-ready App<a class="hash-link" href="#maintaining-your-rtl-ready-app" title="Direct link to heading">#</a></h2><p>Even after the initial RTL-compatible app release, you will likely need to iterate on new features. To improve development efficiency, <a href="https://github.com/facebook/react-native/blob/f0fb228ec76ed49e6ed6d786d888e8113b8959a2/Libraries/Utilities/I18nManager.js" target="_blank" rel="noopener noreferrer"><code>I18nManager</code></a> provides the <code>forceRTL()</code> function for faster RTL testing without changing the test device language. You might want to provide a simple switch for this in your app. Here&#x27;s an example from the RTL example in the RNTester:</p><p align="center"><img src="/blog/assets/rtl-demo-forcertl.png" width="300"></p><div class="codeBlockContainer_1ukp"><div class="codeBlockContent_3Y8q js"><div tabindex="0" class="prism-code language-js codeBlock_2Xgr thin-scrollbar"><div class="codeBlockLines_3Zfi" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token operator" style="color:#fc929e">&lt;</span><span class="token maybe-class-name">RNTesterBlock</span><span class="token plain"> title</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token string" style="color:#8dc891">&#x27;Quickly Test RTL Layout&#x27;</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> style</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">styles</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">flexDirectionRow</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token maybe-class-name">Text</span><span class="token plain"> style</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">styles</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">switchRowTextView</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain">forceRTL</span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> style</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">styles</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">switchRowSwitchView</span><span class="token punctuation" style="color:#657b83">}</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token maybe-class-name">Switch</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        onValueChange</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">_onDirectionChange</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        style</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain">styles</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">rightAlignStyle</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        value</span><span class="token operator" style="color:#fc929e">=</span><span class="token punctuation" style="color:#657b83">{</span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">isRTL</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">      </span><span class="token operator" style="color:#fc929e">/</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">&lt;</span><span class="token operator" style="color:#fc929e">/</span><span class="token maybe-class-name">RNTesterBlock</span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token function-variable function" style="color:#79b6f2">_onDirectionChange</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token maybe-class-name">I18nManager</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">forceRTL</span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">!</span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">isRTL</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">setState</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> isRTL</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">!</span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">isRTL</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token maybe-class-name">Alert</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">alert</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&#x27;Reload this page&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    </span><span class="token string" style="color:#8dc891">&#x27;Please reload this page to change the UI direction! &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;All examples in this app will be affected. &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">+</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;Check them out to see what they look like in RTL layout.&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju">Copy</button></div></div><p>When working on a new feature, you can easily toggle this button and reload the app to see RTL layout. The benefit is you won&#x27;t need to change the language setting to test, however some text alignment won&#x27;t change, as explained in the next section. Therefore, it&#x27;s always a good idea to test your app in the RTL language before launching.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="limitations-and-future-plan"></a>Limitations and Future Plan<a class="hash-link" href="#limitations-and-future-plan" title="Direct link to heading">#</a></h2><p>The RTL support should cover most of the UX in your app; however, there are some limitations for now:</p><ul><li>Text alignment behaviors differ in Android and iOS<ul><li>In iOS, the default text alignment depends on the active language bundle, they are consistently on one side. In Android, the default text alignment depends on the language of the text content, i.e. English will be left-aligned and Arabic will be right-aligned.</li><li>In theory, this should be made consistent across platform, but some people may prefer one behavior to another when using an app. More user experience research may be needed to find out the best practice for text alignment.</li></ul></li></ul><ul><li><p>There is no &quot;true&quot; left/right</p><p>As discussed before, we map the <code>left</code>/<code>right</code> styles from the JS side to <code>start</code>/<code>end</code>, all <code>left</code> in code for RTL layout becomes &quot;right&quot; on screen, and <code>right</code> in code becomes &quot;left&quot; on screen. This is convenient because you don&#x27;t need to change your product code too much, but it means there is no way to specify &quot;true left&quot; or &quot;true right&quot; in the code. In the future, allowing a component to control its direction regardless of the language may be necessary.</p></li><li><p>Make RTL support for gestures and animations more developer friendly</p><p>Currently, there is still some programming effort required to make gestures and animations RTL compatible. In the future, it would be ideal to find a way to make gestures and animations RTL support more developer friendly.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="try-it-out"></a>Try it Out!<a class="hash-link" href="#try-it-out" title="Direct link to heading">#</a></h2><p>Check out the <a href="https://github.com/facebook/react-native/blob/master/packages/rn-tester/js/examples/RTL/RTLExample.js" target="_blank" rel="noopener noreferrer"><code>RTLExample</code></a> in the <code>RNTester</code> to understand more about RTL support, and let us know how it works for you!</p><p>Finally, thank you for reading! We hope that the RTL support for React Native helps you grow your apps for international audience!</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/engineering">engineering</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_28zC"><a href="/blog/2016/08/12/react-native-meetup-san-francisco">San Francisco Meetup Recap</a></h2><div class="margin-vert--md"><time datetime="2016-08-12T00:00:00.000Z" class="blogPostDate_1D58">August 12, 2016 · 9 min read</time></div><div class="avatar margin-vert--md"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://s.gravatar.com/avatar/f2223874e66e884c99087e452501f2da?s=128" alt="Héctor Ramos"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://twitter.com/hectorramos" target="_blank" rel="noopener noreferrer">Héctor Ramos</a></h4><small class="avatar__subtitle">Developer Advocate at Facebook</small></div></div></header><div class="markdown"><p>Last week I had the opportunity to attend the <a href="http://www.meetup.com/React-Native-San-Francisco/photos/27168649/#452793854" target="_blank" rel="noopener noreferrer">React Native Meetup</a> at Zynga’s San Francisco office. With around 200 people in attendance, it served as a great place to meet other developers near me that are also interested in React Native.</p><p><img src="/assets/images/rnmsf-august-2016-hero-141e9a4052f9d7629686335b3d519bb9.jpg"></p><p>I was particularly interested in learning more about how React and React Native are used at companies like Zynga, Netflix, and Airbnb. The agenda for the night would be as follows:</p><ul><li>Rapid Prototyping in React</li><li>Designing APIs for React Native</li><li>Bridging the Gap: Using React Native in Existing Codebases</li></ul><p>But first, the event started off with a quick introduction and a brief recap of recent news:</p><ul><li>Did you know that React Native is now the <a href="https://twitter.com/jamespearce/status/759637111880359937" target="_blank" rel="noopener noreferrer">top Java repository on GitHub</a>?</li><li><a href="https://github.com/rnpm/rnpm" target="_blank" rel="noopener noreferrer">rnpm</a> is now part of React Native core! You can now use <code>react-native link</code> in place of <code>rnpm link</code> to <a href="/docs/linking-libraries-ios">install libraries with native dependencies</a>.</li><li>The React Native Meetup community is growing fast! There are now over 4,800 developers across a variety of React Native meetup groups all over the globe.</li></ul><p>If <a href="http://www.meetup.com/find/?allMeetups=false&amp;keywords=react+native&amp;radius=Infinity&amp;userFreeform=San+Francisco%2C+CA&amp;mcId=z94105&amp;mcName=San+Francisco%2C+CA&amp;sort=recommended&amp;eventFilter=mysugg" target="_blank" rel="noopener noreferrer">one of these meetups</a> is held near you, I highly recommend attending!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="rapid-prototyping-in-react-at-zynga"></a>Rapid Prototyping in React at Zynga<a class="hash-link" href="#rapid-prototyping-in-react-at-zynga" title="Direct link to heading">#</a></h2><p>The first round of news was followed by a quick introduction by Zynga, our hosts for the evening. Abhishek Chadha talked about how they use React to quickly prototype new experiences on mobile, demoing a quick prototype of a Draw Something-like app. They use a similar approach as React Native, providing access to native APIs via a bridge. This was demonstrated when Abhishek used the device&#x27;s camera to snap a photo of the audience and then drew a hat on someone&#x27;s head.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="designing-apis-for-react-native-at-netflix"></a>Designing APIs for React Native at Netflix<a class="hash-link" href="#designing-apis-for-react-native-at-netflix" title="Direct link to heading">#</a></h2><p>Up next, the first featured talk of the evening. <a href="https://twitter.com/clarler" target="_blank" rel="noopener noreferrer">Clarence Leung</a>, Senior Software Engineer at Netflix, presented his talk on Designing APIs for React Native. First he noted the two main types of libraries one may work on: components such as tab bars and date pickers, and libraries that provide access to native services such as the camera roll or in-app payments. There are two ways one may approach when building a library for use in React Native:</p><ul><li>Provide platform-specific components</li><li>A cross-platform library with a similar API for both Android and iOS</li></ul><p>Each approach has its own considerations, and it’s up to you to determine what works best for your needs.</p><p><strong>Approach #1</strong></p><p>As an example of platform-specific components, Clarence talked about the DatePickerIOS and DatePickerAndroid from core React Native. On iOS, date pickers are rendered as part of the UI and can be easily embedded in an existing view, while date pickers on Android are presented modally. It makes sense to provide separate components in this case.</p><p><strong>Approach #2</strong></p><p>Photo pickers, on the other hand, are treated similarly on Android and iOS. There are some slight differences — Android does not group photos into folders like iOS does with Selfies, for example — but those are easily handled using <code>if</code> statements and the <code>Platform</code> component.</p><p>Regardless of which approach you settle on, it’s a good idea to minimize the API surface and build app-specific libraries. For example, iOS’s In-App Purchase framework supports one-time, consumable purchases, as well as renewable subscriptions. If your app will only need to support consumable purchases, you may get away with dropping support for subscriptions in your cross-platform library.</p><p><img src="/assets/images/rnmsf-august-2016-netflix-c3a98ad2c4990dde5f32a78a953b6b02.jpg"></p><p>There was a brief Q&amp;A session at the end of Clarence’s talk. One of the interesting tid bits that came out of it was that around 80% of the React Native code written for these libraries at Netflix is shared across both Android and iOS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="bridging-the-gap-using-react-native-in-existing-codebases"></a>Bridging the Gap, Using React Native in Existing Codebases<a class="hash-link" href="#bridging-the-gap-using-react-native-in-existing-codebases" title="Direct link to heading">#</a></h2><p>The final talk of the night was by <a href="https://twitter.com/intelligibabble" target="_blank" rel="noopener noreferrer">Leland Richardson</a> from Airbnb. The talk was focused on the use of React Native in existing codebases. I already know how easy it is to write a new app from scratch using React Native, so I was very interested to hear about Airbnb’s experience adopting React Native in their existing native apps.</p><p>Leland started off by talking about greenfield apps versus brownfield apps. Greenfield means to start a project without the need to consider any prior work. This is in contrast to brownfield projects where you need to take into account the existing project’s requirements, development processes, and all of the teams various needs.</p><p>When you’re working on a greenfield app, the React Native CLI sets up a single repository for both Android and iOS and everything just works. The first challenge against using React Native at Airbnb was the fact that the Android and iOS app each had their own repository. Multi-repo companies have some hurdles to get past before they can adopt React Native.</p><p>To get around this, Airbnb first set up a new repo for the React Native codebase. They used their continuous integration servers to mirror the Android and iOS repos into this new repo. After tests are run and the bundle is built, the build artifacts are synced back to the Android and iOS repos. This allows the mobile engineers to work on native code without altering their development environment. Mobile engineers don&#x27;t need to install npm, run the packager, or remember to build the JavaScript bundle. The engineers writing actual React Native code do not have to worry about syncing their code across Android and iOS, as they work on the React Native repository directly.</p><p>This does come with some drawbacks, mainly they could not ship atomic updates. Changes that require a combination of native and JavaScript code would require three separate pull requests, all of which had to be carefully landed. In order to avoid conflicts, CI will fail to land changes back to the Android and iOS repos if master has changed since the build started. This would cause long delays during high commit frequency days (such as when new releases are cut).</p><p>Airbnb has since moved to a mono repo approach. Fortunately this was already under consideration, and once the Android and iOS teams became comfortable with using React Native they were happy to accelerate the move towards the mono repo.</p><p>This has solved most of the issues they had with the split repo approach. Leland did note that this does cause a higher strain on the version control servers, which may be an issue for smaller companies.</p><p><img src="/assets/images/rnmsf-august-2016-airbnb-82bbdf39f62d23c89a97181202f24104.jpg"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="the-navigation-problem"></a>The Navigation Problem<a class="hash-link" href="#the-navigation-problem" title="Direct link to heading">#</a></h3><p>The second half of Leland&#x27;s talk focused on a topic that is dear to me: the Navigation problem in React Native. He talked about the abundance of navigation libraries in React Native, both first party and third party. NavigationExperimental was mentioned as something that seemed promising, but ended up not being well suited for their use case.</p><p>In fact, none of the existing navigation libraries seem to work well for brownfield apps. A brownfield app requires that the navigation state be fully owned by the native app. For example, if a user’s session expires while a React Native view is being presented, the native app should be able to take over and present a login screen as needed.</p><p>Airbnb also wanted to avoid replacing native navigation bars with JavaScript versions as part of a transition, as the effect could be jarring. Initially they limited themselves to modally presented views, but this obviously presented a problem when it came to adopting React Native more widely within their apps.</p><p>They decided that they needed their own library. The library is called <code>airbnb-navigation</code>. The library has not yet being open sourced as it is strongly tied to Airbnb’s codebase, but it is something they’d like to release by the end of the year.</p><p>I won’t go into much detail into the library’s API, but here are some of the key takeaways:</p><ul><li>One must preregister scenes ahead of time</li><li>Each scene is displayed within its own <code>RCTRootView</code>. They are presented natively on each platform (e.g. <code>UINavigationController</code>s are used on iOS).</li><li>The main <code>ScrollView</code> in a scene should be wrapped in a <code>ScrollScene</code> component. Doing so allows you to take advantage of native behaviors such as tapping on the status bar to scroll to the top on iOS.</li><li>Transitions between scenes are handled natively, no need to worry about performance.</li><li>The Android back button is automatically supported.</li><li>They can take advantage of View Controller based navigation bar styling via a Navigator.Config UI-less component.</li></ul><p>There’s also some considerations to keep in mind:</p><ul><li>The navigation bar is not easily customized in JavaScript, as it is a native component. This is intentional, as using native navigation bars is a hard requirement for this type of library.</li><li>ScreenProps must be serialized/de-serialized whenever they&#x27;re sent through the bridge, so care must be taken if sending too much data here.</li><li>Navigation state is owned by the native app (also a hard requirement for the library), so things like Redux cannot manipulate navigation state.</li></ul><p>Leland&#x27;s talk was also followed by a Q&amp;A session. Overall, Airbnb is satisfied with React Native. They’re interested in using Code Push to fix any issues without going through the App Store, and their engineers love Live Reload, as they don&#x27;t have to wait for the native app to be rebuilt after every minor change.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2Cjg" id="closing-remarks"></a>Closing Remarks<a class="hash-link" href="#closing-remarks" title="Direct link to heading">#</a></h2><p>The event ended with some additional React Native news:</p><ul><li>Deco announced their <a href="https://www.decosoftware.com/showcase" target="_blank" rel="noopener noreferrer">React Native Showcase</a>, and invited everyone to add their app to the list.</li><li>The recent <a href="/blog/2016/07/06/toward-better-documentation">documentation overhaul</a> got a shoutout!</li><li>Devin Abbott, one of the creators of Deco IDE, will be teaching an introductory <a href="https://www.decosoftware.com/course" target="_blank" rel="noopener noreferrer">React Native course</a>.</li></ul><p><img src="/assets/images/rnmsf-august-2016-docs-bb75ef99473c1d947a3c4020cd1101bc.jpg"></p><p>Meetups provide a good opportunity to meet and learn from other developers in the community. I&#x27;m looking forward to attending more React Native meetups in the future. If you make it up to one of these, please look out for me and let me know how we can make React Native work better for you!</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/events">events</a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/page/4"><div class="pagination-nav__label">« Newer Entries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/6"><div class="pagination-nav__label">Older Entries »</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/components-and-apis">Components and APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/more-resources">More Resources</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/help">The React Native Community</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Who&#x27;s using React Native?</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-native" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask Questions on Stack Overflow</a></li><li class="footer__item"><a href="https://github.com/facebook/react-native/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributor Guide</a></li><li class="footer__item"><a href="https://dev.to/t/reactnative" target="_blank" rel="noopener noreferrer" class="footer__link-item">DEV Community</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Find us</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://twitter.com/reactnative" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://github.com/vulnsystem/www.gitcoins.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">React</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1gX9"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_Ir0T themedImage--light_2_E0 footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_Ir0T themedImage--dark_2JiM footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 Facebook, Inc.</div></div></div></footer></div>
<script src="/assets/js/styles.f35f8285.js"></script>
<script src="/assets/js/runtime~main.63058443.js"></script>
<script src="/assets/js/main.06a5fcb7.js"></script>
<script src="/assets/js/1.fd5900f1.js"></script>
<script src="/assets/js/2.2be848a7.js"></script>
<script src="/assets/js/3.541120ef.js"></script>
<script src="/assets/js/01a85c17.2bca03b2.js"></script>
<script src="/assets/js/18b93cb3.6f5e5950.js"></script>
<script src="/assets/js/645.0c374cd5.js"></script>
<script src="/assets/js/1f391b9e.a6dc992c.js"></script>
<script src="/assets/js/5fc994c2.f7f90878.js"></script>
<script src="/assets/js/6842cdf5.9474afe8.js"></script>
<script src="/assets/js/6875c492.7feb9cb5.js"></script>
<script src="/assets/js/a6aa9e1f.e3052014.js"></script>
<script src="/assets/js/c4f5d8e4.21c662f3.js"></script>
<script src="/assets/js/ccc49370.5a9d002e.js"></script>
<script src="/assets/js/d354f77b.4e2d92da.js"></script>
<script src="/assets/js/af4eba23.be9ef5ab.js"></script>
<script src="/assets/js/4d5605c5.299638e2.js"></script>
<script src="/assets/js/6b9475f3.d216a6e8.js"></script>
<script src="/assets/js/34190e7c.6f57421d.js"></script>
<script src="/assets/js/5bc2ca03.3e1d3611.js"></script>
<script src="/assets/js/3c5dc301.5c2fe611.js"></script>
<script src="/assets/js/a2e4a5c5.088dc21e.js"></script>
<script src="/assets/js/7dc5c003.a0ea571d.js"></script>
<script src="/assets/js/255d8fe2.14a9b1f9.js"></script>
<script src="/assets/js/6212ddc1.f730090f.js"></script>
<script src="/assets/js/11ce4159.22430132.js"></script>
</body>
</html>
(window.webpackJsonp=window.webpackJsonp||[]).push([[280],{377:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return l})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return b}));var n=a(4),r=a(10),o=(a(0),a(704)),i={title:"0.36: Headless JS, the Keyboard API, & more",author:"H\xe9ctor Ramos",authorTitle:"Developer Advocate at Facebook",authorURL:"https://twitter.com/hectorramos",authorImageURL:"https://s.gravatar.com/avatar/f2223874e66e884c99087e452501f2da?s=128",authorTwitter:"hectorramos",tags:["announcement"]},l={permalink:"/blog/2016/10/25/0.36-headless-js-the-keyboard-api-and-more",source:"@site/blog/2016-10-25-0.36-headless-js-the-keyboard-api-and-more.md",description:"Today we are releasing React Native 0.36. Read on to learn more about what's new.",date:"2016-10-25T00:00:00.000Z",formattedDate:"October 25, 2016",tags:[{label:"announcement",permalink:"/blog/tags/announcement"}],title:"0.36: Headless JS, the Keyboard API, & more",readingTime:2.23,truncated:!1,prevItem:{title:"Introducing Button, Faster Installs with Yarn, and a Public Roadmap",permalink:"/blog/2016/11/08/introducing-button-yarn-and-a-public-roadmap"},nextItem:{title:"Expo Talks: Adam on Unraveling Navigation",permalink:"/blog/2016/09/08/exponent-talks-unraveling-navigation"}},s=[{value:"Headless JS",id:"headless-js",children:[]},{value:"The Keyboard API",id:"the-keyboard-api",children:[]},{value:"Animated Division",id:"animated-division",children:[]},{value:"Dark Status Bars",id:"dark-status-bars",children:[]},{value:"...and more",id:"and-more",children:[]}],c={toc:s};function b(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Today we are releasing ",Object(o.b)("a",{parentName:"p",href:"https://github.com/facebook/react-native/releases/tag/v0.36.0"},"React Native 0.36"),". Read on to learn more about what's new."),Object(o.b)("h2",{id:"headless-js"},"Headless JS"),Object(o.b)("p",null,"Headless JS is a way to run tasks in JavaScript while your app is in the background. It can be used, for example, to sync fresh data, handle push notifications, or play music. It is only available on Android, for now."),Object(o.b)("p",null,"To get started, define your async task in a dedicated file (e.g. ",Object(o.b)("inlineCode",{parentName:"p"},"SomeTaskName.js"),"):"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-jsx"},"module.exports = async (taskData) => {\n  // Perform your task here.\n};\n")),Object(o.b)("p",null,"Next, register your task in on ",Object(o.b)("inlineCode",{parentName:"p"},"AppRegistry"),":"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-jsx"},"AppRegistry.registerHeadlessTask('SomeTaskName', () =>\n  require('SomeTaskName')\n);\n")),Object(o.b)("p",null,"Using Headless JS does require some native Java code to be written in order to allow you to start up the service when needed. Take a look at our new ",Object(o.b)("a",{parentName:"p",href:"/docs/headless-js-android"},"Headless JS docs")," to learn more!"),Object(o.b)("h2",{id:"the-keyboard-api"},"The Keyboard API"),Object(o.b)("p",null,"Working with the on-screen keyboard is now easier with ",Object(o.b)("a",{parentName:"p",href:"/docs/keyboard"},Object(o.b)("inlineCode",{parentName:"a"},"Keyboard")),". You can now listen for native keyboard events and react to them. For example, to dismiss the active keyboard, simply call ",Object(o.b)("inlineCode",{parentName:"p"},"Keyboard.dismiss()"),":"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"import { Keyboard } from 'react-native';\n\n// Hide that keyboard!\nKeyboard.dismiss();\n")),Object(o.b)("h2",{id:"animated-division"},"Animated Division"),Object(o.b)("p",null,"Combining two animated values via addition, multiplication, and modulo are already supported by React Native. With version 0.36, combining two ",Object(o.b)("a",{parentName:"p",href:"/docs/animated#divide"},"animated values via division")," is now possible. There are some cases where an animated value needs to invert another animated value for calculation. An example is inverting a scale (2x --\x3e 0.5x):"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"const a = Animated.Value(1);\nconst b = Animated.divide(1, a);\n\nAnimated.spring(a, {\n  toValue: 2,\n}).start();\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"b")," will then follow ",Object(o.b)("inlineCode",{parentName:"p"},"a"),"'s spring animation and produce the value of ",Object(o.b)("inlineCode",{parentName:"p"},"1 / a"),"."),Object(o.b)("p",null,"The basic usage is like this:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"<Animated.View style={{transform: [{scale: a}]}}>\n  <Animated.Image style={{transform: [{scale: b}]}} />\n<Animated.View>\n")),Object(o.b)("p",null,"In this example, the inner image won't get stretched at all because the parent's scaling gets cancelled out. If you'd like to learn more, check out the ",Object(o.b)("a",{parentName:"p",href:"/docs/animations"},"Animations guide"),"."),Object(o.b)("h2",{id:"dark-status-bars"},"Dark Status Bars"),Object(o.b)("p",null,"A new ",Object(o.b)("inlineCode",{parentName:"p"},"barStyle")," value has been added to ",Object(o.b)("inlineCode",{parentName:"p"},"StatusBar"),": ",Object(o.b)("inlineCode",{parentName:"p"},"dark-content"),". With this addition, you can now use ",Object(o.b)("a",{parentName:"p",href:"/docs/statusbar#barstyle"},Object(o.b)("inlineCode",{parentName:"a"},"barStyle"))," on both Android and iOS. The behavior will now be the following:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"default"),": Use the platform default (light on iOS, dark on Android)."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"light-content"),": Use a light status bar with black text and icons."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"dark-content"),": Use a dark status bar with white text and icons.")),Object(o.b)("h2",{id:"and-more"},"...and more"),Object(o.b)("p",null,"The above is just a sample of what has changed in 0.36. Check out the ",Object(o.b)("a",{parentName:"p",href:"https://github.com/facebook/react-native/releases/tag/v0.36.0"},"release notes on GitHub")," to see the full list of new features, bug fixes, and breaking changes."),Object(o.b)("p",null,"You can upgrade to 0.36 by running the following commands in a terminal:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-bash"},"$ npm install --save react-native@0.36\n$ react-native upgrade\n")))}b.isMDXComponent=!0},704:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=r.a.createContext({}),b=function(e){var t=r.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=b(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=b(a),u=n,m=d["".concat(i,".").concat(u)]||d[u]||p[u]||o;return a?r.a.createElement(m,l(l({ref:t},c),{},{components:a})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);